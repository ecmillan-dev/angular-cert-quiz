<div class="row">
  <div class="col-sm-11 quiz-container">
    <form *ngIf="form" [formGroup]="form">

      <!-- <select #category id="categorySelect" (change)="setSubcategories($event)">
        <option>Select category</option>
        <option [value]="category.id" *ngFor="let category of categories">
          {{ category.name }}
        </option>
      </select> -->
      <!-- <input #category type="text" list="categoryAutocomplete" />
        <datalist id="categoryAutocomplete">
          <option>Select category</option>
        <option [value]="category.id" *ngFor="let category of categories">
          {{ category.name }}
        </option>
        </datalist> -->
        <div class="column">
          <input type="text" placeholder="Select Category" (keyup)="onCategory($event)" [formControlName]="'Category'" (click)="showCategoryDropdown()"/>
          <ng-container *ngIf="(categories?.length ?? 0 > 0) && !hideDropdown" >
            <div class="category-autocomplete">
              <app-autocomplete
                *ngIf="categories?.length ?? 0 > 0"
                [categories]="categories"
                [searchString]="form.get('Category')?.value"
                [hideDropdown]="hideDropdown"
                (clickOut)="onCategoryClickout()"
                (choice)="onChoice($event)">
              </app-autocomplete>
            </div>
          </ng-container>
        </div>
        <!-- <div>
          <app-autocomplete
            *ngIf="categories?.length ?? 0 > 0"
            [categories]="categories"
            [searchString]="form.get('Category')?.value"
            [hideDropdown]="hideDropdown"
            (choice)="onChoice($event)">
          </app-autocomplete>

        </div> -->
        <div class="column">
          <input type="text" [hidden]="searchSubcategories.length === 0" placeholder="Select SubCategory" (keyup)="onSubCategory($event)" [formControlName]="'SubCategory'" (click)="showSubcategoryDropdown()"/>
          <ng-container *ngIf="(searchSubcategories?.length ?? 0 > 0) && !hideSubCategoryDropdown" >
            <div class="category-autocomplete">
              <app-autocomplete
              *ngIf="searchSubcategories?.length ?? 0 > 0"
              [categories]="searchSubcategories"
              [searchString]="form.get('SubCategory')?.value"
              [hideDropdown]="hideSubCategoryDropdown"
              (clickOut)="onSubCategoryClickout()"
              (choice)="onSubcatChoice($event)">
              </app-autocomplete>
            </div>
          </ng-container>
        </div>

      <!-- <select
        [hidden]="searchSubcategories.length === 0"
        #subcategory
        id="subCategorySelect"
      >
        <option value="0">Select subcategory</option>
        <option
          [value]="category.id"
          *ngFor="let category of searchSubcategories"
        >
          {{ category.name }}
        </option>
      </select> -->
      <div class="column">
        <select [formControlName]="'Difficulty'" id="difficultySelect">
          <option selected="selected">Select difficulty</option>
          <option>Easy</option>
          <option>Medium</option>
          <option>Hard</option>
        </select>
      </div>


    </form>


    <button
      class="primary"
      id="createBtn"
      (click)="createQuiz()"
    >
      Create
    </button>
  </div>
</div>
<div class="row">
  <app-quiz
    [questions]="questions$ | async"
    [categoryId]="categoryId"
  ></app-quiz>
</div>
<div class="row" >

  <!-- <app-autocomplete
  *ngIf="categories?.length ?? 0 > 0"
  [categories]="categories"
  [searchString]="categoryAutocomplete?.value"
  [hideDropdown]="hideDropdown"
  (choice)="onChoice($event)">
  </app-autocomplete> -->



</div>

<div class="row">

</div>
